// constants.js
// Глобальные константы приложения.
// Помещены в window.appConstants для легкого доступа из JSX-компонентов,
// работающих с Babel Standalone без системы сборки модулей.
// Это помогает избежать "магических" строк и чисел в коде,
// делая его более читаемым и легким для рефакторинга.

window.appConstants = {
    // --- Настройки сетки (Grid) ---
    DEFAULT_GRID_SIZE: 50,    // Размер сетки по умолчанию (N x N ячеек). Используется, если нет сохраненного значения.
    MIN_GRID_SIZE: 10,        // Минимально допустимый размер сетки, который может установить пользователь.
    MAX_GRID_SIZE: 100,       // Максимально допустимый размер сетки.

    DEFAULT_CELL_SIZE_PX: 24, // Размер ячейки по умолчанию в пикселях. Влияет на начальный масштаб.
    MIN_CELL_SIZE_PX: 10,     // Минимальный размер ячейки в пикселях при масштабировании (pinch-to-zoom).
    MAX_CELL_SIZE_PX: 60,     // Максимальный размер ячейки в пикселях при масштабировании.

    // --- Ключи для localStorage ---
    // Используются для сохранения пользовательских настроек (язык, размер сетки) между сессиями браузера.
    // Суффикс '_v2_react' добавлен для обеспечения уникальности ключей и избежания конфликтов
    // с данными от предыдущих версий приложения, если они хранились в том же домене.
    LOCAL_STORAGE_LANG_KEY: 'alliancePlannerLang_v2_react',
    LOCAL_STORAGE_GRID_SIZE_KEY: 'alliancePlannerGridSize_v2_react',

    // --- Типы элементов для библиотеки interact.js ---
    // Эти константы могут использоваться для более точной настройки правил взаимодействия,
    // например, какие элементы могут быть "брошены" в какие dropzone, или для специфической стилизации
    // во время различных фаз взаимодействия (drag, resize).
    // В текущей реализации они могут не использоваться активно, но заложены для возможного будущего расширения.
    INTERACT_ITEM_TYPES: {
        NEW_BUILDING_FROM_TOOLBAR: 'newBuildingFromToolbar', // Идентификатор для элемента, перетаскиваемого с панели инструментов.
        PLACED_BUILDING: 'placedBuilding',                 // Идентификатор для здания, уже размещенного на сетке.
        RESIZE_HANDLE: 'resizeHandle'                      // Идентификатор для "ручки" изменения размера (например, у DeadZone).
    },

    // --- Строковые идентификаторы (ключи) для типов зданий ---
    // Эти ключи используются как уникальные идентификаторы для каждого типа здания во всем приложении:
    // - в конфигурации зданий (buildingConfig.js)
    // - в файлах локализации (translations.js)
    // - в логике сохранения/загрузки состояния (persistenceService.js)
    // - в компонентах React для определения типа здания и его свойств.
    // Использование констант вместо строковых литералов помогает избежать опечаток и упрощает рефакторинг.
    BUILDING_TYPES: {
        FORTRESS:  'fortress',
        OUTPOST:   'outpost',
        HELLGATES: 'hellgates',
        HOSPITAL:  'hospital',
        FARM:      'farm',
        WAREHOUSE: 'warehouse',
        CASTLE:    'castle',
        DEADZONE:  'deadzone'
    },

    // --- Другие общие константы приложения ---
    DEFAULT_LANGUAGE: 'ru', // Язык по умолчанию, если не удалось определить из localStorage или настроек браузера.

    // Задержка для функции debounce в миллисекундах.
    // Используется, например, для оптимизации обработчика события 'resize' окна браузера,
    // чтобы функция-обработчик не вызывалась слишком часто во время изменения размера.
    DEBOUNCE_DELAY_MS: 200,

    // Максимальная допустимая длина имени игрока или названия зоны (если потребуется ввести ограничение).
    // В текущей реализации валидация длины имени может отсутствовать, но константа готова к использованию.
    MAX_PLAYER_NAME_LENGTH: 50
};